<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Country Guessing Game</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

    <style>
        html, body { margin: 0; height: 100%; }
        #map { height: 100%; }
        #input-box {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: white;
            padding: 10px;
            border-radius: 6px;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
        #country-input {
            width: 300px;
            font-size: 18px;
            padding: 8px;
        }
    </style>
</head>
<body>

<div id="map"></div>

<div id="input-box">
    <input id="country-input" type="text" placeholder="Type a country..." autocomplete="off">
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
    // Initialize map
    const map = L.map("map").setView([20, 0], 2);

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 5
    }).addTo(map);

    let countryLookup = {};

    // Load country shapes
    fetch("https://raw.githubusercontent.com/johan/world.geo.json/master/countries.geo.json")
        .then(res => res.json())
        .then(data => {

            L.geoJSON(data, {
                style: {
                    color: "#444",
                    weight: 1,
                    fillColor: "#cccccc",
                    fillOpacity: 0.5
                },
                onEachFeature: (feature, layer) => {
                    const name = feature.properties.name.toLowerCase();

                    // No popup, no label (REMOVE country names)
                    layer.bindPopup(""); // disabled effectively
                    layer.on("mouseover", e => e.target.closePopup());

                    // Store layer by country name
                    countryLookup[name] = layer;
                }
            }).addTo(map);
        });

    const input = document.getElementById("country-input");

    input.addEventListener("keyup", () => {
        const guess = input.value.trim().toLowerCase();

        if (countryLookup[guess]) {
            const layer = countryLookup[guess];

            // Highlight green
            layer.setStyle({
                fillColor: "green",
                fillOpacity: 0.8
            });

            // CLEAR the input box
            input.value = "";
        }
    });
</script>

</body>
</html>
