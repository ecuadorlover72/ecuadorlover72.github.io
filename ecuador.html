<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ecuador Tycoon: Endless Republic</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(#0b2f24, #145a40);
    color: #fff;
}
header {
    background: #011;
    padding: 20px;
    text-align: center;
    font-size: 30px;
    font-weight: bold;
}
#game {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}
.panel {
    background: rgba(0,0,0,0.6);
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}
button {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    background: #2ecc71;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
}
button:hover { background: #27ae60; }
.stat { margin: 10px 0; }
small { opacity: 0.8; font-size: 14px; }
.progress-bar { height: 8px; width: 100%; background: #444; border-radius: 5px; }
.progress { height: 100%; border-radius: 5px; transition: width 0.3s; }
.green { background: #7CFC00; }
.red { background: #ff6b6b; }
.yellow { background: #f39c12; }
</style>
</head>
<body>

<header>ğŸ‡ªğŸ‡¨ Ecuador Tycoon: Endless Republic</header>

<div id="game">

<div class="panel">
<h3>ğŸ“Š Nation Overview</h3>
<div class="stat">ğŸ’° Money: $<span id="money"></span></div>
<div class="stat">ğŸ§‘ Population: <span id="population"></span> M</div>
<div class="stat">ğŸ“ˆ GDP: <span id="gdp"></span></div>
<div class="stat">ğŸ—ï¸ Infrastructure: <span id="infra"></span>%</div>
<div class="stat">ğŸŒ¿ Environment: <span id="env"></span>%</div>
<div class="stat">âš–ï¸ Stability: <span id="stability"></span>%</div>
<div class="stat">ğŸ—³ï¸ Ideology: <span id="ideology"></span></div>
<div class="stat">ğŸª– Military: <span id="military"></span></div>
<div class="stat">ğŸ“… Year: <span id="year"></span></div>
<button onclick="nextYear()">Advance Year</button>
</div>

<div class="panel">
<h3>ğŸ—ºï¸ Regional Development</h3>
<small>Costs $700 â€¢ Effects depend on region</small>
<button onclick="region('costa')">ğŸŒ´ Costa â€“ Ports & Trade</button>
<button onclick="region('sierra')">â›°ï¸ Sierra â€“ Cities & Industry</button>
<button onclick="region('amazon')">ğŸŒ³ AmazonÃ­a â€“ Oil & Conflict</button>
<button onclick="region('galapagos')">ğŸ¢ GalÃ¡pagos â€“ Eco Tourism</button>
</div>

<div class="panel">
<h3>ğŸ›ï¸ Government Actions</h3>
<small>Policies shape long-term stability</small>
<button onclick="policy('infrastructure')">ğŸ—ï¸ Invest in Infrastructure</button>
<button onclick="policy('social')">ğŸ¥ Social Programs</button>
<button onclick="policy('business')">ğŸ’¼ Pro-Business Reform</button>
<button onclick="policy('environment')">ğŸŒ± Environmental Protection</button>
<button onclick="policy('military')">ğŸª– Military Expansion</button>
</div>

<div class="panel">
<h3>ğŸŒ Diplomacy & War</h3>
<small>Form alliances, declare war, or negotiate peace</small>
<button onclick="startWar()">âš”ï¸ Declare War</button>
<button onclick="negotiatePeace()">âœŒï¸ Negotiate Peace</button>
<button onclick="formAlliance()">ğŸ¤ Form Alliance</button>
</div>

<div class="panel">
<h3>ğŸ“° Events & Timeline</h3>
<p id="log">The republic stands strong.</p>
<p id="warTimeline"></p>
<button onclick="save()">ğŸ’¾ Save</button>
<button onclick="load()">ğŸ“‚ Load</button>
</div>

</div>

<script>
let game = {
    money: 4000,
    population: 18,
    gdp: 20,
    infra: 50,
    env: 70,
    stability: 65,
    ideology: "Center",
    military: 10,
    year: 2025,
    allies: [],
    enemies: [],
    war: null
};

function updateUI() {
    document.getElementById('money').textContent = game.money;
    document.getElementById('population').textContent = game.population.toFixed(1);
    document.getElementById('gdp').textContent = game.gdp;
    document.getElementById('infra').textContent = game.infra;
    document.getElementById('env').textContent = game.env;
    document.getElementById('stability').textContent = game.stability;
    document.getElementById('ideology').textContent = game.ideology;
    document.getElementById('military').textContent = game.military;
    document.getElementById('year').textContent = game.year;
    renderWarTimeline();
}

function log(message) {
    document.getElementById('log').textContent = message;
}

// REGIONS
function region(r) {
    if(game.money<700) return log("Not enough funds.");
    game.money -= 700;
    game.gdp += 3;
    if(r==="amazon"){ game.money+=600; game.env-=6; game.stability-=3; log("Oil in AmazonÃ­a boosts money but causes unrest."); }
    if(r==="galapagos"){ game.money+=300; game.env+=4; game.stability+=2; log("Eco-tourism booms in GalÃ¡pagos."); }
    if(r==="costa"){ game.money+=400; log("Ports expand trade."); }
    if(r==="sierra"){ game.population+=0.2; game.infra+=2; log("Sierra urban growth strengthens."); }
    updateUI();
}

// POLICIES
function policy(p) {
    if(p==="infrastructure"){ game.money-=500; game.infra+=5; log("Infrastructure improved."); }
    if(p==="social"){ game.money-=400; game.stability+=5; game.population+=0.1; log("Social programs implemented."); }
    if(p==="business"){ game.gdp+=4; game.env-=3; log("Pro-business reforms implemented."); }
    if(p==="environment"){ game.env+=6; game.gdp-=2; log("Environmental protection enforced."); }
    if(p==="military"){ game.money-=600; game.military+=5; log("Military expanded."); }
    updateUI();
}

// DIPLOMACY
function formAlliance() {
    const nations=["Colombia","Peru","Brazil"];
    const target=nations[Math.floor(Math.random()*nations.length)];
    if(!game.allies.includes(target)){ game.allies.push(target); log(`ğŸ¤ Formed alliance with ${target}.`); }
    else log(`Already allied with ${target}.`);
    updateUI();
}

// WAR SYSTEM
function startWar() {
    if(game.war){ return log("Already at war!"); }
    const nations=["Colombia","Peru","Brazil"];
    const enemy=nations[Math.floor(Math.random()*nations.length)];
    game.enemies.push(enemy);
    game.war={enemy: enemy, year:0, timeline:[]};
    log(`âš”ï¸ War started with ${enemy}!`);
    updateUI();
}

function advanceWar() {
    if(!game.war) return;

    const w=game.war;
    w.year++;
    let event="";
    const outcome=Math.random();
    if(outcome<0.4){ game.military-=2; game.population-=0.1; game.gdp-=2; event="Lost a battle."; }
    else if(outcome<0.8){ game.military-=1; game.gdp+=2; event="Won a skirmish."; }
    else { game.military+=1; game.gdp+=3; event="Major victory!"; }
    w.timeline.push(`Year ${w.year}: ${event}`);

    // War ends after 3 years automatically
    if(w.year>=3){
        log(`War with ${w.enemy} ended.`);
        game.money+=Math.floor(Math.random()*1000)+500; // peace reward
        game.stability+=3;
        game.war=null;
    }
    updateUI();
}

function negotiatePeace() {
    if(!game.war) return log("No war to negotiate.");
    const reward=Math.floor(Math.random()*1500)+500;
    game.money+=reward;
    game.stability+=5;
    log(`âœŒï¸ Peace treaty signed with ${game.war.enemy}. Earned $${reward}.`);
    game.enemies=game.enemies.filter(e=>e!==game.war.enemy);
    game.war=null;
    updateUI();
}

function renderWarTimeline() {
    const el=document.getElementById("warTimeline");
    if(!game.war){ el.textContent="No ongoing war."; return; }
    el.textContent="War Timeline:\n"+game.war.timeline.join("\n");
}

// ELECTIONS
function election() {
    const roll=Math.random();
    if(roll<0.33) game.ideology="Left";
    else if(roll<0.66) game.ideology="Center";
    else game.ideology="Right";

    if(game.ideology==="Left"){ game.stability+=4; game.env+=3; }
    if(game.ideology==="Right"){ game.gdp+=4; game.env-=4; }
    log("ğŸ—³ï¸ New government: "+game.ideology);
}

// RANDOM EVENTS
function randomEvent() {
    const events=[
        ()=>{ game.money-=500; game.stability-=4; log("ğŸŒ‹ Earthquake damages infrastructure."); },
        ()=>{ game.env-=4; log("ğŸŒŠ El NiÃ±o affects agriculture."); },
        ()=>{ game.money+=600; log("ğŸ“¦ Export boom year!"); },
        ()=>{ game.stability-=6; log("ğŸš¨ Nationwide strike."); }
    ];
    if(Math.random()<0.4) events[Math.floor(Math.random()*events.length)]();
}

// FAILURES
function checkFailureConditions() {
    if(game.stability<20){ game.gdp-=3; log("âš ï¸ Low stability!"); }
    if(game.env<20){ game.population-=0.2; log("âš ï¸ Environmental crisis!"); }
    if(game.military<0) game.military=0;
}

// ADVANCE YEAR
function nextYear() {
    game.year++;
    game.money+=Math.floor(game.gdp*(game.infra/50));
    game.population+=0.12;
    game.infra-=0.5;

    if(game.year%4===0) election();
    if(game.war) advanceWar();
    randomEvent();
    checkFailureConditions();

    updateUI();
}

// SAVE/LOAD
function save(){ localStorage.setItem("ecuadorTycoon",JSON.stringify(game)); log("Game saved."); }
function load(){ const s=localStorage.getItem("ecuadorTycoon"); if(s){ Object.assign(game,JSON.parse(s)); updateUI(); log("Game loaded."); } }

updateUI();
</script>
</body>
</html>
